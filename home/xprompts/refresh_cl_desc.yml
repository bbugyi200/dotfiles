input:
  cl_name: { type: line, default: "" }
  project_file: { type: path, default: "" }

steps:
  - name: gen_desc
    prompt: |
      Can you review the changes made by this CL (see the #cl_diff file) and suggest a new CL description that conforms
      with the advice given in the @~/bb/docs/cl_descriptions.md document? #my_cl_desc_advice #file:new_cl_desc
    output: { desc_file: path }

  - name: reword
    bash: |
      gai_refresh_cl_desc {{ gen_desc.desc_file }} {{ cl_name }} {{ project_file }}
    output: { success: bool }
