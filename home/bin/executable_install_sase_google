#!/bin/bash

set -e

SASE_DIR="$HOME/projects/github/bbugyi200/sase"
SASE_GITHUB_DIR="$HOME/projects/github/bbugyi200/sase-github"
SASE_HG_DIR="$HOME/projects/github/bbugyi200/sase-hg"

for repo in "$SASE_DIR" "$SASE_GITHUB_DIR" "$SASE_HG_DIR"; do
    echo ">>> Syncing $repo..."
    git -C "$repo" pull
done

echo ">>> Installing sase via uv tool..."
uv tool install --force --editable \
    "sase @ $SASE_DIR" \
    --with-editable "sase-github @ $SASE_GITHUB_DIR" \
    --with-executables-from sase-github \
    --with-editable "sase-hg @ $SASE_HG_DIR" \
    --with-executables-from sase-hg
