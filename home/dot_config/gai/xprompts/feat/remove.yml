input: { feature: word, short_feat: word, bug_id: int }
xprompts:
  _remove_refs:
    input: { lang: word }
    content: |
      Can you help me remove all {{ lang }} references to the {{ feature }} #feat? This feature is enabled on ALL
      networks now, so make sure to also remove any variables / logic that only exist to support the case where the
      feature flag is disabled. Don't touch references in other files (I will remove those later).
steps:
  - name: dart_refs
    prompt: |
      #_remove_refs(Dart) #commit(remove_{{ short_feat }}_dart, {{ bug_id }})
  - name: java_refs
    prompt: |
      #_remove_refs(Java) Also, do NOT remove the reference contained in the TestPublisherFeatureGroups.java file. #commit(remove_{{ short_feat }}_java, {{ bug_id }})
  - name: test_ref
    prompt: |
      Can you help me remove the reference to {{ feature }} from the TestPublisherFeatureGroups.java file? #commit(remove_{{ short_feat }}_test_ref, {{ bug_id }})
  - name: final
    prompt: |
      Can you help me remove the {{ feature }} #feat from the publisher_features.textproto file and make the necessary
      SQL changes to fully obsolete this feature? #clref:853434697 #commit(remove_{{ short_feat }}_final, {{ bug_id }})
