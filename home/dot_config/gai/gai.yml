# Mentors define the individual code review checks to be performed.
mentors:
  - name: aaa
    prompt: |
      Can you help me enforce the AAA (arrange, act, assert) test method structure? In particular, find and fix Any test
      method modified by this CL that does NOT structure its statements using the Arrange, Act, Assert pattern. There
      should NEVER be a blank line that breaks up one of these sections. Use comments if necessary to separate different
      parts of each section, but NEVER specify the section name using a comment (ex: '# Act'). When no section has more
      than 1 top-level (ex: not nested in a lambda expression block) statement, no blank lines are necessary. Otherwise,
      the sections should ALWAYS be separated by a blank line.
  - name: complete
    prompt: |
      Can you help me ensure that this feature is functonally complete based off of the CL description and the file
      changes that have been made so far (shown in the diff file below)?
  - name: dead_code
    prompt: |
      Can you help me identify and remove any dead code that has been introduced in this CL? Private dead code is
      generally caught by linters, so focus on public dead code (ex: public methods or classes that are never used).
      Make sure to only remove code that is definitely unused.
  - name: shared_code
    prompt: |
      Can you help me identify any code that is duplicated across multiple files in this CL? You should use your
      CodeSearch tool to search for duplication and/or existing shared utilities across the codebase (related to the
      changes made in this CL). If you find any, please refactor the code to factor out a new shared utility / use the
      existing shared utility.
  - name: java_visibility
    prompt: |
      Can you help me check all Java code modified by this CL to ensure that the visibility modifiers (public, private,
      protected) of all classes, methods, and fields modified in this CL are appropriate? Make sure that no class,
      method, or field is more visible than it needs to be. For example, if a method is only used within its own class,
      it should be marked as private instead of public or protected.
  - name: dart_visibility
    prompt: |
      Can you help me check all Dart code modified by this CL to ensure that the visibility modifiers (just a leading
      underscore in Dart) of all classes, methods, and fields modified in this CL are appropriate? Make sure that no
      class, method, or field is more visible than it needs to be. For example, if a method is only used within its own
      library, it should be marked as private (using the leading underscore) instead of public.
  - name: sound_tests
    prompt: |
      Can you help me ensure that the changes made in this CL have proper test coverage? Specifically, you should verify that:
        + New logic comes with new or strengthened tests (or a clear justification for why existing tests are
          sufficient).
        + in the case of bug fixes, regressions are actively guarded against, not “accidentally avoided”: include at
          least one test that would have failed before the change.
  - name: comments
    prompt: |
      Can you help me ensure that all code changes in this CL follow best practices for code comments? Specifically,
      ensure that:
        + All public fields, functions, classes, and methods have clear and concise doc comments that follow best
          practices for the language they are written in.
        + We are critical about the comments we add — avoid redundant comments that simply restate what the code does.

# Mentor profiles define which mentors to apply to which files.
mentor_profiles:
  - name: code
    mentors:
      - comments
      - dead_code
      - shared_code
      - sound_tests
    file_globs:
      - "**/*.java"
      - "**/*.dart"
      - "**/*.acx.html"
  - name: java
    mentors:
    - java_visibility
    file_globs:
      - "**/*.java"
  - name: dart
    mentors:
    - dart_visibility
    file_globs:
      - "**/*.dart"
      - "**/*.acx.html"
  - name: tests
    mentors:
      - aaa
    file_globs:
      - "javatests/**/*.java"
      - "**/test*.dart"
  - name: feature
    mentors:
      - complete
    amend_note_regexes:
      - "Initial Commit"
      - "\\[mentor:complete\\]"
