{"id":"chezmoi-03i","title":"Phase 3.5: VCS Migration Validation \u0026 Cleanup","description":"Verify no direct VCS calls remain outside the provider, remove dead code, ensure tests pass.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 3.5)\n\nTasks:\n- Grep for residual bb_hg_/\"hg \" calls outside _hg.py — should find zero\n- Remove superseded functions from workspace.py, operations.py if fully delegated\n- Run make test-python-gai and make lint-python-lite\n- Maintain test coverage threshold\n\nKey files:\n- All src/ files (grep for residual VCS calls)\n- src/commit_utils/workspace.py (cleanup)\n- src/ace/operations.py (cleanup)","status":"closed","priority":2,"issue_type":"task","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:50.42785-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.889086-05:00","closed_at":"2026-02-14T16:30:26.889086-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-0d5","title":"Phase 3: Remove .gp parser, update tests and documentation","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T13:50:16.162083-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:23:23.158019-05:00","closed_at":"2026-02-14T16:23:23.158019-05:00","close_reason":"Obsolete","dependencies":[{"issue_id":"chezmoi-0d5","depends_on_id":"chezmoi-8s2","type":"blocks","created_at":"2026-02-14T13:50:23.695945-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-0q6","title":"Phase 5: ChangeSpec Model Generalization","description":"Generalize the ChangeSpec/CL model so it maps to git branches + PRs.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 5)\n\nTasks:\n- Abstract the CL concept: in hg, a CL is a commit with a description; in git, it's a branch with a PR\n- Map ChangeSpec STATUS transitions to PR lifecycle:\n  - Unstarted → branch not yet created\n  - In Progress → branch exists, no PR yet\n  - Drafted → draft PR created\n  - Mailed → PR open for review\n  - Submitted → PR merged\n- Generalize cl_desc to read from either hg commit descriptions or git branch metadata / PR descriptions\n- Generalize commit_workflow/cl_formatting.py to format both hg commit messages and git commit messages + PR bodies\n- Generalize the COMMITS suffix tracking for git (amend history)\n- Update get_all_cl_names → works with both hg bookmarks and git branches\n- Update is_cl_submitted → checks hg submission status or PR merge status (via gh CLI or git API)\n\nKey files:\n- src/ace/changespec/models.py (ChangeSpec data model)\n- src/ace/changespec/parser.py (parsing ChangeSpec files)\n- src/commit_workflow/cl_formatting.py (CL description formatting)\n- src/status_state_machine/ (status transitions)\n\nRun make test-python-gai and make lint-python-lite to validate.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:30:03.794583-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.985299-05:00","closed_at":"2026-02-14T16:30:26.985299-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-1el","title":"Phase 2: Claude Code LLM Provider Implementation","description":"Implement the Claude Code backend against the Phase 1 LLM provider abstraction.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 2)\n\nTasks:\n- Implement ClaudeCodeProvider class (subprocess to claude CLI, stdin/stdout protocol)\n- Map model tiers to Claude models (large→opus, small→haiku or sonnet)\n- Handle Claude Code-specific flags, environment variables, and output format\n- Register the provider in the registry as \"claude\"\n- Add provider selection to gai.yml config + update gai.schema.json\n- Ensure prompt pre-processing (xprompt expansion, file references, Jinja2) remains provider-agnostic\n- Add unit tests\n\nKey files:\n- src/llm_provider/ (add claude.py)\n- src/llm_provider/registry.py (register new provider)\n- dot_config/gai/gai.schema.json\n\nRun make test-python-gai and make lint-python-lite to validate.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:11.994245-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.562219-05:00","closed_at":"2026-02-14T16:30:26.562219-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-369","title":"Implement ClaudeCodeProvider (Phase 2)","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T18:12:19.201857-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T18:14:51.97079-05:00","closed_at":"2026-02-14T18:14:51.97079-05:00","close_reason":"Implemented ClaudeCodeProvider with all 5 plan steps: extracted stream_process_output to _subprocess.py, created claude.py with ClaudeCodeProvider, registered in registry, generalized error message, and added 7 tests"}
{"id":"chezmoi-3hk","title":"Phase 3.1: Complete VCS Operation Audit","description":"Finalize the catalog of every VCS touchpoint in gai with classification. This is a research/documentation task.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 3.1)\n\nTasks:\n- Produce a reference table of every VCS call site: file, command, conceptual category, and tier (Core / Google-internal / Composite)\n- Core = has git equivalent (hg diff, hg update, hg addremove, hg import, hg commit, hg amend, hg rebase)\n- Google-internal = no git equivalent (hg evolve, hg upload tree, hg cls-*, hg fix, hg lint, hg presubmit)\n- Composite = shell scripts chaining multiple ops (bb_hg_clean, bb_hg_amend, bb_hg_sync, etc.)\n- Also catalog VCS-coupled shell helpers: branch_name, branch_number, get_all_cl_names, cl_desc, branch_local_changes\n\nFiles to audit:\n- src/commit_utils/workspace.py (diff, clean, import)\n- src/commit_workflow/ (commit creation, CL formatting)\n- src/amend_workflow.py (amend operations)\n- src/rewind_workflow/ (revert operations)\n- src/ace/operations.py (bb_hg_update)\n- src/ace/mail_ops.py (bb_hg_reword, upload)\n- Shell scripts: home/bin/executable_bb_hg_*\n- All other files with hg subprocess calls\n\nOutput: Write the audit results as a structured reference (e.g., markdown table) to home/lib/gai/plans/vcs_audit.md","status":"closed","priority":2,"issue_type":"task","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:22.740865-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.622381-05:00","closed_at":"2026-02-14T16:30:26.622381-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-3nm","title":"Add structured update functions for ProjectSpec fields","description":"Implement all update_changespec_*, add_*, remove_* functions in structured_updates.py. Covers Step 6 of Phase 1.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T13:03:19.783086-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T13:47:43.954067-05:00","closed_at":"2026-02-14T13:47:43.954067-05:00","close_reason":"Implemented 12 public functions + 2 private helpers in structured_updates.py, 43 tests in test_structured_updates.py, updated __init__.py exports","dependencies":[{"issue_id":"chezmoi-3nm","depends_on_id":"chezmoi-ru5","type":"blocks","created_at":"2026-02-14T13:03:38.689833-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-4uk","title":"Phase 8: Testing \u0026 Validation","description":"Ensure both backends work correctly and coexist without regressions. Add unit tests for provider abstractions, unit tests for each provider implementation, parameterize existing tests across providers, add integration test fixtures for git workflows. Ensure make test-python-gai and make lint-python-lite pass. See home/lib/gai/plans/gai_git_claude_plan.md for full details.","status":"open","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:33:34.780887-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:33:34.780887-05:00","dependencies":[{"issue_id":"chezmoi-4uk","depends_on_id":"chezmoi-o9w","type":"blocks","created_at":"2026-02-14T16:33:48.180812-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-7lt","title":"Phase 1.3: Migrate LLM Consumers \u0026 Generalize Model Tiers","description":"Replace all direct invoke_agent() imports with the new LLM abstraction and retire \"big\"/\"little\" terminology.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 1.3)\n\nTasks:\n- Update all 7 consumer imports from 'from gemini_wrapper import invoke_agent' to 'from llm_provider import invoke_agent'\n- Replace model_size: Literal[\"little\", \"big\"] with model_tier: ModelTier across consumers\n- Move invoke_agent() canonical location to llm_provider/__init__.py, keep backward-compat re-export in gemini_wrapper\n- Update CLI --model-size → --model-tier (keep old as deprecated alias)\n- Update ace/tui/app.py model size override logic\n- Deprecate/remove GeminiCommandWrapper class\n- Update existing tests, ensure make test-python-gai and make lint-python-lite pass\n\nKey files:\n- 7 modules that import invoke_agent (grep for 'from gemini_wrapper import invoke_agent')\n- src/main/parser.py (CLI args)\n- src/ace/tui/app.py (model size override)\n- src/gemini_wrapper/ (deprecation)","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:06.855107-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.513331-05:00","closed_at":"2026-02-14T16:30:26.513331-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-7on","title":"Phase 3.3: Implement HgProvider","description":"Implement HgProvider(VCSProvider) by extracting existing subprocess logic into provider methods. No call sites change yet.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 3.3)\n\nTasks:\n- Create src/vcs_provider/_hg.py\n- Mechanical extraction: lift subprocess calls from commit_utils/workspace.py, ace/operations.py, ace/handlers/show_diff.py, commit_workflow/workflow.py, commit_workflow/branch_info.py\n- Wrap bb_hg_* script invocations for composite ops\n- Register with auto-detect: check for .hg/ directory\n- Add unit tests: test/test_vcs_provider_hg.py — mock subprocess, verify correct commands\n\nKey files:\n- src/vcs_provider/_hg.py (new)\n- src/commit_utils/workspace.py (extract from)\n- src/ace/operations.py (extract from)\n- src/ace/handlers/show_diff.py (extract from)\n- src/commit_workflow/workflow.py (extract from)\n- src/commit_workflow/branch_info.py (extract from)\n\nRun make test-python-gai and make lint-python-lite to validate.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:36.785803-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.748023-05:00","closed_at":"2026-02-14T16:30:26.748023-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-7qi","title":"Phase 3.2: Define VCSProvider Interface \u0026 Data Types","description":"Create the abstract VCSProvider ABC and supporting types in a new src/vcs_provider/ package, without touching existing consumers.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 3.2)\n\nTasks:\n- Create new files: _base.py (ABC), _types.py (CommandResult dataclass), _registry.py (factory w/ auto-detect), _errors.py, __init__.py\n- Follow the BaseWorkflow(ABC) pattern from src/workflow_base.py\n- Group methods by category:\n  - Core ops: diff, checkout, apply_patch, clean, add_remove, commit, amend, reword, rebase, rename_branch\n  - Composite ops: stash_and_clean, amend_and_upload, sync, archive, prune, unamend\n  - Info queries: get_branch_name, get_description, has_local_changes\n  - Google-internal ops: upload, evolve, fix, lint, presubmit (default NotImplementedError)\n- All methods take explicit cwd parameter, return CommandResult(success, error, stdout, stderr) — matching existing (bool, str) conventions in gai_utils.py\n- Use the VCS audit from Phase 3.1 (home/lib/gai/plans/vcs_audit.md) as reference for method signatures\n\nKey files:\n- src/vcs_provider/ (new package)\n- src/workflow_base.py (pattern reference)\n- src/gai_utils.py (return convention reference)\n\nRun make lint-python-lite to validate.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:30.496025-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.689114-05:00","closed_at":"2026-02-14T16:30:26.689114-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-800","title":"Phase 1.1: Define LLM Provider Abstract Interface \u0026 Refactor GeminiProvider","description":"Create the LLMProvider abstraction and refactor existing Gemini code to implement it, without changing any consumer call sites.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 1.1)\n\nTasks:\n- Create src/llm_provider/ package: base.py (LLMProvider ABC with invoke() method), types.py (ModelTier type + LoggingContext dataclass), __init__.py\n- Extract prompt pre-processing pipeline (xprompt, command substitution, file refs, jinja2, prettier, HTML comments) from GeminiCommandWrapper.invoke() into src/llm_provider/preprocessing.py — these are already delegated to separate modules, so this is lifting the sequential call chain into a standalone function\n- Extract post-processing (artifact logging, chat history, audio notification) into src/llm_provider/postprocessing.py\n- Create src/llm_provider/gemini.py — GeminiProvider(LLMProvider) with only Gemini-specific logic (CLI command, subprocess streaming, env vars)\n- Keep invoke_agent() working exactly as before internally using GeminiProvider\n- Add unit tests\n\nKey files:\n- src/gemini_wrapper/wrapper.py (contains GeminiCommandWrapper class + invoke_agent())\n- src/gemini_wrapper/__init__.py\n- src/llm_provider/ (target directory, currently empty)\n\nRun make test-python-gai and make lint-python-lite to validate.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:28:56.208816-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.415693-05:00","closed_at":"2026-02-14T16:30:26.415693-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-83z","title":"Phase 3: VCS Operation Inventory \u0026 Abstraction Layer","description":"Catalog every VCS operation gai performs, then define an abstract VCS interface. Sub-phases: 3.1 Complete VCS Operation Audit, 3.2 Define VCSProvider Interface \u0026 Data Types, 3.3 Implement HgProvider, 3.4 Migrate Call Sites to VCSProvider, 3.5 Validation \u0026 Cleanup. See home/lib/gai/plans/gai_git_claude_plan.md for full details.","status":"closed","priority":1,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:33:23.203868-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T17:48:40.483138-05:00","closed_at":"2026-02-14T17:48:40.483138-05:00","close_reason":"Phase 3 complete: VCSProvider ABC, HgProvider, and migration of ~25 call site files"}
{"id":"chezmoi-8ob","title":"Add Phase 2 \u0026 Phase 3 sections to gai_gp_to_yaml.md plan file","status":"closed","priority":2,"issue_type":"task","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T13:50:13.508855-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T13:52:14.663688-05:00","closed_at":"2026-02-14T13:52:14.663688-05:00","close_reason":"Not needed as a separate bead"}
{"id":"chezmoi-8s2","title":"Phase 2: Convert all writer callsites to structured update API","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T13:50:14.567221-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:23:19.578725-05:00","closed_at":"2026-02-14T16:23:19.578725-05:00","close_reason":"Obsolete","dependencies":[{"issue_id":"chezmoi-8s2","depends_on_id":"chezmoi-ts2","type":"blocks","created_at":"2026-02-14T13:50:21.857909-05:00","created_by":"Bryan Bugyi"},{"issue_id":"chezmoi-8s2","depends_on_id":"chezmoi-3nm","type":"blocks","created_at":"2026-02-14T13:50:22.139265-05:00","created_by":"Bryan Bugyi"},{"issue_id":"chezmoi-8s2","depends_on_id":"chezmoi-g3q","type":"blocks","created_at":"2026-02-14T13:50:22.369638-05:00","created_by":"Bryan Bugyi"},{"issue_id":"chezmoi-8s2","depends_on_id":"chezmoi-zd3","type":"blocks","created_at":"2026-02-14T13:50:22.564499-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-9q2","title":"Phase 6: ace TUI \u0026 axe Scheduler Generalization","description":"Update the interactive TUI and scheduler daemon to work with both backends. ace TUI: display branch name/PR URL, update navigation, update diff display, generalize status indicators. axe Scheduler: generalize CL status checking, comment monitoring, hook execution, workspace management. See home/lib/gai/plans/gai_git_claude_plan.md for full details.","status":"open","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:33:30.697968-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:33:30.697968-05:00","dependencies":[{"issue_id":"chezmoi-9q2","depends_on_id":"chezmoi-m6y","type":"blocks","created_at":"2026-02-14T16:33:46.234121-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-aix","title":"Phase 3.4a: Migrate Low-Level Utils \u0026 Core Ops to VCSProvider","description":"Replace direct hg/bb_hg_* calls with VCSProvider method calls in low-level utilities and core operations (tiers 1-2 of migration).\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 3.4, tiers 1-2)\n\nTasks:\n- Tier 1 - Low-level utils: Migrate commit_utils/workspace.py, commit_workflow/branch_info.py\n- Tier 2 - Core ops: Migrate ace/operations.py, ace/handlers/show_diff.py\n- Provider obtained via get_vcs_provider(cwd) — most call sites already have workspace_dir\n- Update existing test mocks accordingly\n\nKey files:\n- src/commit_utils/workspace.py\n- src/commit_workflow/branch_info.py\n- src/ace/operations.py\n- src/ace/handlers/show_diff.py\n- Corresponding test files\n\nRun make test-python-gai and make lint-python-lite to validate.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:40.943127-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.791515-05:00","closed_at":"2026-02-14T16:30:26.791515-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-aty","title":"Phase 3.4b: Migrate Workflows \u0026 TUI Handlers to VCSProvider","description":"Replace direct hg/bb_hg_* calls with VCSProvider method calls in workflows and TUI/scheduler handlers (tiers 3-4 of migration).\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 3.4, tiers 3-4)\n\nTasks:\n- Tier 3 - Workflows: Migrate commit_workflow/workflow.py, amend_workflow.py, rewind_workflow/workflow.py, accept_workflow/workflow.py\n- Tier 4 - TUI/scheduler: Migrate ace/handlers/ (mail, reword, workflow_handlers), ace/mail_ops.py, ace/archive.py, ace/scheduler/ (hooks_runner, mentor_runner, workflows_runner), ace/tui/actions/\n- Provider obtained via get_vcs_provider(cwd)\n- Update existing test mocks accordingly\n\nKey files:\n- src/commit_workflow/workflow.py\n- src/amend_workflow.py\n- src/rewind_workflow/workflow.py\n- src/accept_workflow/workflow.py\n- src/ace/handlers/ (multiple files)\n- src/ace/mail_ops.py, src/ace/archive.py\n- src/ace/scheduler/ (multiple files)\n- src/ace/tui/actions/\n\nRun make test-python-gai and make lint-python-lite to validate.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:46.291701-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.84143-05:00","closed_at":"2026-02-14T16:30:26.84143-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-d35","title":"Phase 2: Claude Code Provider Implementation","description":"Implement the Claude Code backend against the Phase 1 abstraction. Implement ClaudeCodeProvider class (subprocess to claude CLI, stdin/stdout protocol), map model tiers to Claude models, handle Claude Code-specific flags/env vars/output format. See home/lib/gai/plans/gai_git_claude_plan.md for full details.","status":"in_progress","priority":1,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:33:20.948473-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T17:21:51.586067-05:00","dependencies":[{"issue_id":"chezmoi-d35","depends_on_id":"chezmoi-i53","type":"blocks","created_at":"2026-02-14T16:33:41.896696-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-evg","title":"Phase 4: Git VCS Provider Implementation","description":"Implement the git backend against the Phase 3 VCS abstraction.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 4)\n\nTasks:\n- Implement GitProvider class mapping each VCS operation to git equivalents:\n  - hg diff → git diff\n  - bb_hg_update \u003cCL\u003e → git checkout \u003cbranch\u003e / git switch \u003cbranch\u003e\n  - bb_hg_amend → git commit --amend\n  - bb_hg_reword → git commit --amend (message only)\n  - bb_hg_clean → git stash or git checkout -- .\n  - bb_hg_archive → git branch -d + tag for archival\n  - hg import --no-commit → git apply\n  - Workspace management: hg workspaces → git worktrees\n- Create bb_git_* wrapper scripts where needed, or inline logic into the provider\n- Handle differences in diff format between hg and git (already partially supported in mentor_checks.py)\n- Register with auto-detect: check for .git/ directory\n- Add unit tests\n\nKey files:\n- src/vcs_provider/_git.py (new)\n- src/vcs_provider/_registry.py (register new provider)\n- home/bin/ (potential bb_git_* scripts)\n\nRun make test-python-gai and make lint-python-lite to validate.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:56.029503-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.939706-05:00","closed_at":"2026-02-14T16:30:26.939706-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-g3q","title":"Integrate YAML parser with existing .gp parser for backward compatibility","description":"Update parser.py to dispatch by file extension (.yaml vs .gp). Update __init__.py to prefer .yaml files. Fix locking.py temp suffix. Re-export new symbols. Covers Steps 7 and 10 of Phase 1.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T13:03:20.754148-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T14:19:15.515587-05:00","closed_at":"2026-02-14T14:19:15.515587-05:00","close_reason":"Integrated YAML parser with existing .gp parser: dispatch by extension, .yaml preferred in find_all_changespecs, dynamic temp file suffix","dependencies":[{"issue_id":"chezmoi-g3q","depends_on_id":"chezmoi-ts2","type":"blocks","created_at":"2026-02-14T13:03:40.399503-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-i53","title":"Phase 1: LLM Provider Abstraction Layer","description":"Extract an abstract interface from the existing Gemini code so that LLM provider is pluggable. Sub-phases: 1.1 Define Abstract Interface \u0026 Refactor GeminiProvider, 1.2 Provider Registry \u0026 Configuration, 1.3 Migrate Consumers \u0026 Generalize Model Tiers. See home/lib/gai/plans/gai_git_claude_plan.md for full details.","status":"closed","priority":1,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:33:18.057239-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:51:11.842425-05:00","closed_at":"2026-02-14T16:51:11.842425-05:00","close_reason":"Implemented LLM provider abstraction layer: created llm_provider package with ABC, GeminiProvider, registry, preprocessing/postprocessing pipelines, and invoke_agent orchestrator. Migrated all 8 consumers from gemini_wrapper to llm_provider. Added --model-tier CLI flag and env var support. Full backward compat maintained."}
{"id":"chezmoi-m6y","title":"Phase 5: ChangeSpec Model Generalization","description":"Generalize the ChangeSpec/CL model so it maps to git branches + PRs. Abstract the CL concept, map ChangeSpec STATUS transitions to PR lifecycle, generalize cl_desc/cl_formatting/COMMITS tracking/get_all_cl_names/is_cl_submitted. See home/lib/gai/plans/gai_git_claude_plan.md for full details.","status":"open","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:33:27.812078-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:33:27.812078-05:00","dependencies":[{"issue_id":"chezmoi-m6y","depends_on_id":"chezmoi-d35","type":"blocks","created_at":"2026-02-14T16:33:44.078531-05:00","created_by":"Bryan Bugyi"},{"issue_id":"chezmoi-m6y","depends_on_id":"chezmoi-yv7","type":"blocks","created_at":"2026-02-14T16:33:45.036261-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-mvh","title":"Phase 1.2: LLM Provider Registry \u0026 Configuration","description":"Create a registry/factory so the active LLM provider is selected via configuration.\n\nReference: home/lib/gai/plans/gai_git_claude_plan.md (Phase 1.2)\n\nTasks:\n- Create src/llm_provider/registry.py — maps provider names to LLMProvider subclasses\n- Register GeminiProvider as \"gemini\" (default)\n- Add llm_provider section to gai.yml config + update gai.schema.json (at dot_config/gai/gai.schema.json)\n- Update invoke_agent() to use registry lookup instead of hardcoding GeminiProvider\n- Add tests\n\nKey files:\n- src/llm_provider/ (from Phase 1.1)\n- dot_config/gai/gai.schema.json\n- gai.yml config files\n\nRun make test-python-gai and make lint-python-lite to validate.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:29:01.943488-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:30:26.466278-05:00","closed_at":"2026-02-14T16:30:26.466278-05:00","close_reason":"Purged by user request"}
{"id":"chezmoi-o9w","title":"Phase 7: Configuration \u0026 Auto-Detection","description":"Make backend selection seamless via config and auto-detection. Auto-detect .git/ vs .hg/, update gai.yml schema (llm_provider + vcs_provider sections), generalize env vars, update CLI flags. See home/lib/gai/plans/gai_git_claude_plan.md for full details.","status":"open","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:33:33.218603-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:33:33.218603-05:00","dependencies":[{"issue_id":"chezmoi-o9w","depends_on_id":"chezmoi-9q2","type":"blocks","created_at":"2026-02-14T16:33:47.21315-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-rev","title":"Phase 2: Convert all writer callsites to structured update API","status":"closed","priority":1,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T15:51:34.849518-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T16:23:19.576833-05:00","closed_at":"2026-02-14T16:23:19.576833-05:00","close_reason":"Obsolete"}
{"id":"chezmoi-ru5","title":"Add ProjectSpec/WorkspaceClaim models and JSON Schema for YAML project specs","description":"Define ProjectSpec and WorkspaceClaim dataclasses in project_spec.py. Create JSON Schema at xprompts/project_spec.schema.json. Covers Steps 1-2 of Phase 1.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T13:03:17.049562-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T13:17:01.573453-05:00","closed_at":"2026-02-14T13:17:01.573453-05:00","close_reason":"Implemented ProjectSpec/WorkspaceClaim dataclasses, JSON schema, tests, and __init__.py exports"}
{"id":"chezmoi-ts2","title":"Implement YAML parser, serializer, and atomic write for ProjectSpec","description":"Implement parse_project_spec(), serialize_project_spec(), write_project_spec_atomic(), and read_and_update_project_spec() in project_spec.py. Covers Steps 3-5 of Phase 1.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T13:03:18.5998-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T13:59:16.921065-05:00","closed_at":"2026-02-14T13:59:16.921065-05:00","close_reason":"Implemented YAML parse/serialize/write functions for ProjectSpec","dependencies":[{"issue_id":"chezmoi-ts2","depends_on_id":"chezmoi-ru5","type":"blocks","created_at":"2026-02-14T13:03:37.575761-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-xjc","title":"Add 'check' action to chez_lock","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T18:10:22.769964-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T18:11:29.790001-05:00","closed_at":"2026-02-14T18:11:29.790001-05:00","close_reason":"Closed"}
{"id":"chezmoi-yv7","title":"Phase 4: Git VCS Provider Implementation","description":"Implement the git backend against the Phase 3 abstraction. Implement GitProvider class mapping each VCS operation to git equivalents (hg diff -\u003e git diff, bb_hg_update -\u003e git checkout, etc.). See home/lib/gai/plans/gai_git_claude_plan.md for full details.","status":"in_progress","priority":1,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T16:33:25.5072-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T18:19:05.992067-05:00","dependencies":[{"issue_id":"chezmoi-yv7","depends_on_id":"chezmoi-83z","type":"blocks","created_at":"2026-02-14T16:33:42.975803-05:00","created_by":"Bryan Bugyi"}]}
{"id":"chezmoi-zd3","title":"Add migration script and tests for .gp-to-YAML conversion","description":"Create migration script at home/bin/executable_gai_migrate_gp_to_yaml. Add tests: test_project_spec.py, test_structured_updates.py, test_migration.py. Covers Steps 8-9 of Phase 1.","status":"closed","priority":2,"issue_type":"feature","owner":"bryanbugyi34@gmail.com","created_at":"2026-02-14T13:03:22.696033-05:00","created_by":"Bryan Bugyi","updated_at":"2026-02-14T15:43:04.436671-05:00","closed_at":"2026-02-14T15:43:04.436671-05:00","close_reason":"Closed","dependencies":[{"issue_id":"chezmoi-zd3","depends_on_id":"chezmoi-ts2","type":"blocks","created_at":"2026-02-14T13:03:42.208327-05:00","created_by":"Bryan Bugyi"},{"issue_id":"chezmoi-zd3","depends_on_id":"chezmoi-3nm","type":"blocks","created_at":"2026-02-14T13:03:42.448676-05:00","created_by":"Bryan Bugyi"},{"issue_id":"chezmoi-zd3","depends_on_id":"chezmoi-g3q","type":"blocks","created_at":"2026-02-14T13:03:42.665383-05:00","created_by":"Bryan Bugyi"}]}
